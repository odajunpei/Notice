{"filter":false,"title":"members_controller.rb","tooltip":"/notice/app/controllers/members_controller.rb","undoManager":{"mark":14,"position":14,"stack":[[{"start":{"row":0,"column":13},"end":{"row":0,"column":14},"action":"insert","lines":[":"],"id":2}],[{"start":{"row":0,"column":14},"end":{"row":0,"column":15},"action":"insert","lines":[" "],"id":3},{"start":{"row":0,"column":15},"end":{"row":0,"column":16},"action":"insert","lines":[":"]}],[{"start":{"row":0,"column":16},"end":{"row":0,"column":17},"action":"insert","lines":["M"],"id":4},{"start":{"row":0,"column":17},"end":{"row":0,"column":18},"action":"insert","lines":["e"]},{"start":{"row":0,"column":18},"end":{"row":0,"column":19},"action":"insert","lines":["m"]}],[{"start":{"row":0,"column":19},"end":{"row":0,"column":20},"action":"insert","lines":["b"],"id":5},{"start":{"row":0,"column":20},"end":{"row":0,"column":21},"action":"insert","lines":["e"]},{"start":{"row":0,"column":21},"end":{"row":0,"column":22},"action":"insert","lines":["r"]},{"start":{"row":0,"column":22},"end":{"row":0,"column":23},"action":"insert","lines":["s"]}],[{"start":{"row":0,"column":22},"end":{"row":0,"column":23},"action":"remove","lines":["s"],"id":6}],[{"start":{"row":0,"column":21},"end":{"row":0,"column":22},"action":"remove","lines":["r"],"id":7}],[{"start":{"row":0,"column":20},"end":{"row":0,"column":21},"action":"remove","lines":["e"],"id":8}],[{"start":{"row":0,"column":19},"end":{"row":0,"column":20},"action":"remove","lines":["b"],"id":9}],[{"start":{"row":0,"column":18},"end":{"row":0,"column":19},"action":"remove","lines":["m"],"id":10}],[{"start":{"row":0,"column":17},"end":{"row":0,"column":18},"action":"remove","lines":["e"],"id":11}],[{"start":{"row":0,"column":16},"end":{"row":0,"column":17},"action":"remove","lines":["M"],"id":12}],[{"start":{"row":0,"column":15},"end":{"row":0,"column":16},"action":"remove","lines":[":"],"id":13}],[{"start":{"row":0,"column":14},"end":{"row":0,"column":15},"action":"remove","lines":[" "],"id":14}],[{"start":{"row":0,"column":13},"end":{"row":0,"column":14},"action":"remove","lines":[":"],"id":15}],[{"start":{"row":21,"column":5},"end":{"row":22,"column":0},"action":"insert","lines":["",""],"id":16},{"start":{"row":22,"column":0},"end":{"row":22,"column":2},"action":"insert","lines":["  "]},{"start":{"row":22,"column":2},"end":{"row":23,"column":0},"action":"insert","lines":["",""]},{"start":{"row":23,"column":0},"end":{"row":23,"column":2},"action":"insert","lines":["  "]}],[{"start":{"row":23,"column":2},"end":{"row":38,"column":9},"action":"insert","lines":["  def search(word, item)","    words = word.split(/[[:blank:]]+/).select(&:present?)","    not_word, or_and_word = words.partition { |word| word.start_with?(\"-\") }","    or_word, and_word = or_and_word.partition { |word| word.start_with?(\"|\") }","","    items = item.all","    and_word.each do |word|","      items = items.where(\"name LIKE ?\",\"%#{word}%\")# if word.present?","    end","    or_word.each do |word|","      items = items.or(item.where(\"name LIKE ?\",\"%#{word.delete_prefix('|')}%\"))","    end","    not_word.each do |word|","      items.where!(\"name NOT LIKE ?\", \"%#{word.delete_prefix('-')}%\")","    end","    retur"],"id":17}]]},"ace":{"folds":[],"scrolltop":0,"scrollleft":0,"selection":{"start":{"row":32,"column":0},"end":{"row":32,"column":0},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":0},"timestamp":1633581233556,"hash":"21ce8b255f63e28dfb6a43dd9ffd38dd77639f3e"}